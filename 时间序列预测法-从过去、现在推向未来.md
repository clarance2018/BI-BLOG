---
title: "时间序列预测法 | 从过去、现在推向未来"
date: "2021-03-02"
categories: 
  - "02"
  - "07"
---

我们先来看一组数据。

51、52、53、54、55、56、57、58、59、60......

60之后的下一个数字，你认为应该是多少？

你可能思考时间都不用3秒，就给出答案是61。

当然大多数人的答案都会是61，会认为这是一个等差数列，每个数字以1的差额往后叠加。

答案对吗？对，61从某种程度上来说是挺合理的。

但是问题在于这组数据背后少了一个场景，所以答案究竟是多少，其实是不确定的。不同业务场景下，给出的答案也是不同的。

某生活必需品企业的销售经理眼里，如果这组数据代表的是这段时间的产品销量，那么他会认为下一个数字可能是55。

因为他非常清楚，他们生产的产品是必需品，价格波动相对会比较稳定，因此这段时间的产品销量是围绕55而上下波动的，所以下一个数字很可能是55。

答案合理吧？合理。

又比如某季节性产品企业的销售经理眼里，如果这组数据代表的是这段时间的营业额，而这组数据刚好为一个周期，他们生产的产品销售额又是会随着季节性而变化，那么他会认为下一个数字很可能是51。

答案合理吧？也合理。

所以发现了吗？

数据本身如果和业务想脱离，很有可能得出错误的结论反而会误导决策！

这样的实际场景太多了，企业需要根据过去已有的历史信息推断出未来可能发生的情况作出市场预测。但如果这些信息与业务完全脱离，而是凭直觉对未来做出12345的判断，那么对企业的危害是不降反增的。

那么到底应该怎么正确地作出预测呢？

**定义|时间序列预测法**

**时间序列是指把历史统计资料按时间顺序排列起来得到的一组数据序列。比如，按月份排列的某种商品的销售量。**

**时间序列预测法是将预测目标的历史数据按时间排列成为时间序列，然后分析它随时间变化的发展趋势，外推预测目标的未来值。**

**它主要用于分析影响事物的主要因素比较困难或相关变量资料难以得到的情况，**预测时先要进行时间序列的模式分析，也就是将数据和业务场景联系起来。

**时间序列模式**

想了解未来发展趋势，我们需要先了解趋势形态有哪些，才可对症下药。

时间序列的模式，是指**历史时间序列所反映的某种可以识别的事物变动趋势形态**。

它可分为四种模型，分别是水平型、趋势型、周期变动型和随机型。

1. **水平型**

水平型时间序列模式是指，时间序列各个观察值呈现出某个定值上下波动的变动形态。比如某些非季节性变动的生活必需品的逐月销售量。

1. **趋势型**

趋势型时间序列模式是指，时间序列在一定时期内虽出现小范围的大小波动，但总体上呈现出持续上升或下降趋势的变动形态。比如高档耐用消费品的经济寿命曲线等等。

1. **周期变动型**

周期变动型时间序列，是指随着时间的推移，时间序列呈现出有规则的上升与下降循环变动的形态。这种模式往往以年为变动周期，按月或季度编制时间序列，比如许多季节性消费品的按月、按季销售量等。

1. **随机型**

随机型时间序列模式，是指时间序列呈现出的变化趋势走向升降不定、没有一定规律可循的变动趋势。这种现象是由于偶然因素引起的，比如经济现象中的不规则变动、政治变动以及气候的突变等等。

**应用：时间序列预测法——移动平均预测法实例分析**

今天给大家介绍时间序列预测法中的一种方法，叫做**移动平均预测法**。

移动平均预测法是**将一组近期实际值取平均值，将这个平均值作为下期预测值，逐项移动，形成一个序列平均数的时间序列**。

它是**根据时间序列资料、逐项推移，依次计算包含一定项数的序时平均值，以反映长期变动趋势**的方法。

当时间序列的数值**由于受到周期变动和随机变动的影响，起伏较大，不易显示出事件的发展趋势**时，使用移动平均法可以消除这些因素的影响，显示出事物的发展方向和趋势，然后依据趋势线分析预测数列的长期趋势。

移动平均法分为一次移动平均法和二次移动平均法

一次移动法计算公式：

设有时间序列x1，x2，x3...xm，则一次移动平均法计算公式为：

Yt+1\=（λ1+λt-1+λt-2+……λt-n+1）/n

其中，n为每次移动平均包含的移动个数，即期数；yt+1为n个近期数据的平均值，作为t+1期的预测值。

下面我们来看一个实例，某家电产品2009年1-12月实际市场销售额如表所示，试着运用移动平均法，采用近4期数据预测2010年1月份的市场需求量。

某产品2009年市场销售额

单位：万元

<table><tbody><tr><td>月份</td><td>销售额</td></tr><tr><td>1</td><td>1050</td></tr><tr><td>2</td><td>1040</td></tr><tr><td>3</td><td>1060</td></tr><tr><td>4</td><td>1056</td></tr><tr><td>5</td><td>1070</td></tr><tr><td>6</td><td>1045</td></tr><tr><td>7</td><td>1064</td></tr><tr><td>8</td><td>1087</td></tr><tr><td>9</td><td>1090</td></tr><tr><td>10</td><td>1088</td></tr><tr><td>11</td><td>1100</td></tr><tr><td>12</td><td>1092</td></tr></tbody></table>

**用DataFocus进行时间序列预测**

**快速构建模型**

DataFocus使用像google一样搜索式的交互方式，用类自然语言提问，系统自动以可视化形式呈现搜索结果。

搜索结果一键保存为历史问答后，即可放置于数据看板，将多个历史问答进行组合快速制作可视化大屏，构建市场预测分析模型。

精通业务的非工程技术人员，经过30分钟的培训即可熟练掌握， 7分钟即可构建分析模型。

**灵活搭建模型**

自己动手自由搭建模型。

你可以将保存好的带有图表的历史问答自由组合成个性化的数据看板（数据可视化数据看板），自行DIY数据看板组件，设计可视化大屏，形成预测分析模型直观呈现分析结果。

根据分析反馈还可以灵活快速更改、完善分析模型，而不再是固定的分析模型。

**快速深入模型**

如若需要重点关注模型其中某个环节，你可以在数据看板中查看当前组件的对应数据明细。在展示数据明细界面还可以点击增加列进行对比分析，以及下载当前数据，深度剖析信息。

**分析思路**

2010年1月的预测销售额，运用一次移动法，即为9月-12月销售额的平均值。

**技术实现：应用DataFocus实现分析**

**导入数据表**

![](images/word-image.png)

**建立公式**

由于导入的数据月份设定为为日期属性，需要转为月份属性。

建立公式日期，month\_number(月份)

![](images/word-image-1.png)

**搜索分析**

搜索框输入日期、销售额，即可获得数据。

![](images/word-image-2.png)

**快速获得预测结果**

建立公式，一次移动法，average\_if(日期>=9and日期<=12,销售额)

并得出最后结果，1092.5。

![](images/word-image-3.png)

**总结**

**时间序列预测法是将预测目标的历史数据按时间排列成为时间序列，然后分析它随时间变化的发展趋势，外推预测目标的未来值。**

时间序列的模式，是指**历史时间序列所反映的某种可以识别的事物变动趋势形态**。它可分为四种模型，分别是水平型、趋势型、周期变动型和随机型。

今天介绍的其中一种方法，叫做移动平均预测法，它是**将一组近期实际值取平均值，将这个平均值作为下期预测值，逐项移动，形成一个序列平均数的时间序列**。它适用于**由于受到周期变动和随机变动的影响，起伏较大，不易显示出事件的发展趋势这样的情况。**

本文通过一个对于销售额预测这样简单的案例，实际应用移动平均预测法获最终确定产品预测销售额。

快来试用DataFocus学以致用吧！
