---
title: "实战讲解：客户最大消费额与平均消费额分析"
date: "2020-12-21"
categories: 
  - "03"
  - "04"
---

> 1.商业场景

在商业分析中，除了通过汇总与求平均值的方式可以洞察商业绩效，还可以通过求最大（最小）值，洞察数据背后潜在的机遇与挑战。图10.1.1所示的为某地区最大单笔消费额与平均消费额的对比。

> 2.可视化实现

地图和条形图组合。地图用于作为地区筛选器，条形图用于显示更加详尽的信息。

> 3.解题思路

（1）创建各客户最大单笔消费额分布地图。（2）创建消费额排名。

> 4.在DataFocus中实现步骤

首先，我们先计算得出每个顾客最大单笔消费额。

导入数据表后，在搜索页面建立公式，公式名为最大单笔消费额，公式为max(销售额)。

![](images/word-image-36.png)

搜索框输入客户名称、最大单笔消费额后，保存为中间表，中间表名为最大单笔消费额情况。目的是为了对计算出来的最大单笔消费额再进行分析。

![](images/word-image-37.png)

保存完毕后选择保存好的中间表，建立公式最大单笔平均消费额，average(最大单笔消费额)，目的是计算最大单笔消费额的平均值。搜索”最大单笔平均消费额”，得出结果，统计所有顾客最大消费额的平均值为7255.24，把这个结果复制。

![](images/word-image-38.png)

搜索框输入客户名称，最大单笔消费额，再将最大单笔消费额按降序排列，以方便分析。

![](images/word-image-39.png)

图形转换为条形图，x轴为客户名称，y轴为最大单笔消费额的总和。在y轴配置中设置

目标值为我们计算得到的所有顾客最大消费额的平均值7255.24，图形中就会出现一条分割线。

![](images/word-image-40.png)

再在y轴颜色规则中设置数值范围。大于平均值7255.24的，用蓝色标记；小于7255.24的，用红色标记。

![](images/word-image-41.png)

最后我们就可以得到以下的效果了。

![](images/word-image-42.png)

> 总结

分析客户最大消费额和平均消费额，首先我们需要利用数据表得到客户最大消费额情况，通过中间表计算出客户最大消费额的平均值，再使用条形图，在y轴上画出平均值的分割线，最后使用颜色规则即可区分出高于平均值的客户最大消费额情况以及低于平均值的客户最大消费额情况。
